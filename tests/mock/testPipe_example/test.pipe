# JTERATOR PIPELINE DESCRIPTOR FILE
# =================================
# 
# The working directory is by default the directory where the .pipe file 
# is located. So you can provide relative paths in your pipeline description.
#
# To run modules individually use the following command:
#   $ cat [handles_filename] | [executable] [module_filename]
#
#
# WARNING: Do not comment part of the module list in "pipeline"!
# For unknown reasons this leads to weird behavior.


# Define your project:
project:

  name: test
  description: example pipeline for testing purposes
  version: 0.0.1


# Define how jobs are created and processed:
jobs:

    folder: rawdata/TIFF
    pattern: 
      - name: DAPI
        expression: .*C01\.(png|tiff?)
      - name: Antibody1
        expression: .*C02\.(png|tiff?)


# Define path to modules (executable files) and handles (YAML files)
# and the interpreter program (full path or command for /usr/bin/env):
pipeline:

  - name: PrimeRawData
    module: modules/PrimeRawData.py
    handles: handles/PrimeRawData.handles
    interpreter: python

  - name: IllumCorr
    module: modules/IllumCorr.jl
    handles: handles/IllumCorr.handles
    interpreter: julia

  - name: IdentifyNuclei
    module: modules/IdentifyNuclei.m
    handles: handles/IdentifyNuclei.handles
    interpreter: Mscript

  - name: MeasureObjects
    module: modules/MeasureObjects.py
    handles: handles/MeasureObjects.handles
    interpreter: python

  - name: PlotMeasurements
    module: modules/PlotMeasurements.R
    handles: handles/PlotMeasurements.handles
    interpreter: Rscript
